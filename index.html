<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silence Proxy</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/utils/variables.css">
    <link rel="stylesheet" href="css/utils/animations.css">
    <link rel="stylesheet" href="css/components/headers.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/modals.css">
    <link rel="stylesheet" href="css/components/pages.css">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Font Awesome Ğ±ĞµĞ· Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³Ğ° -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
</head>
<body>
    <div id="app">
        <!-- Fallback content -->
        <div id="fallback-message" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #0F0F12; color: #FDECEF; display: flex; align-items: center; justify-content: center; z-index: 10000; padding: 2rem; text-align: center;">
            <div>
                <h1 style="margin-bottom: 1rem; background: linear-gradient(135deg, #FDECEF, #745C97); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Silence Proxy</h1>
                <p>ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ...</p>
            </div>
        </div>
        
        <header class="header" id="header"></header>
        <main class="main" id="main"></main>
        <div id="modals-container"></div>
        <div id="pages-container"></div>
    </div>

    <!-- JS Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ -->
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/database.js"></script>
    <script src="js/components/modalManager.js"></script>
    <script src="js/components/pageManager.js"></script>
    <script src="js/components/subscriptionManager.js"></script>
    <script src="js/components/deviceManager.js"></script>
    <script src="js/app.js"></script>

    <script>
        // Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
        });

        // Ğ¡ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ fallback ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ³Ğ´Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ¾
        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const fallback = document.getElementById('fallback-message');
                if (fallback) {
                    fallback.style.display = 'none';
                }
            }, 500);
        });

        // Fallback Ğ´Ğ»Ñ Font Awesome ĞµÑĞ»Ğ¸ CDN Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ğ»ÑÑ
        setTimeout(() => {
            if (!window.FontAwesome || !document.querySelector('.fa')) {
                console.log('Font Awesome not loaded, applying fallback styles');
                const style = document.createElement('style');
                style.textContent = `
                    .fa, .fas, .far, .fal, .fad, .fab {
                        font-family: 'Segoe UI', system-ui, sans-serif !important;
                    }
                    .fa-user:before { content: "ğŸ‘¤"; }
                    .fa-bars:before { content: "â˜°"; }
                    .fa-download:before { content: "ğŸ“¥"; }
                    .fa-headset:before { content: "ğŸ’¬"; }
                    .fa-mobile-alt:before { content: "ğŸ“±"; }
                    .fa-arrow-left:before { content: "â†"; }
                    .fa-lock:before { content: "ğŸ”’"; }
                    .fa-key:before { content: "ğŸ”‘"; }
                    .fa-play-circle:before { content: "â–¶ï¸"; }
                    .fa-apple:before { content: "ğŸ"; }
                    .fa-google-play:before { content: "ğŸ¤–"; }
                    .fa-cc-visa:before { content: "ğŸ’³"; }
                    .fa-telegram:before { content: "ğŸ“¨"; }
                    .fa-times:before { content: "âœ•"; }
                `;
                document.head.appendChild(style);
            }
        }, 3000);
    </script>
</body>
</html>